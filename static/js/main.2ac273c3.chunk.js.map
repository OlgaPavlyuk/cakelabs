{"version":3,"sources":["modules/App/eventsReducers.js","modules/App/eventsActions.js","modules/App/orderReducers.js","modules/App/orderActions.js","redux/rootReducer.js","redux/store.js","modules/Header/Header.js","shared/components/TagsLine.js","modules/EventsList/EventsList.js","shared/components/Error.js","shared/icons/Sort.js","modules/Events/Events.js","services/selectors.js","shared/icons/Location.js","modules/Event/Event.js","services/fetchEvents.js","modules/App/App.js","index.js"],"names":["initialState","list","loading","error","events","state","action","type","payload","order","rootReducer","history","combineReducers","router","connectRouter","createBrowserHistory","Header","className","activeClassName","exact","to","TagsLine","props","tags","map","tag","key","EventsList","cityEvent","id","title","is_free","categories","price","slug","Error","Sort","width","height","xmlns","fill","viewBox","d","connect","console","log","sortOrder","sort","a","b","sortEvents","isLoading","isError","dispatch","toggleEventsOrder","btnTitle","onClick","Location","ownProps","match","params","event","find","getEvent","date","description","image","place","body","dateStr","Date","toLocaleString","year","month","day","hour","minute","priceClasses","cn","dateTime","url","fetchEvents","async","fetch","response","ok","json","jsonResponse","status","useEffect","path","component","Events","Event","store","createStore","compose","applyMiddleware","routerMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2ac273c3.chunk.js","sourcesContent":["\r\nimport { FETCH_EVENTS_BEGIN, FETCH_EVENTS_SUCCESS, FETCH_EVENTS_FAILURE } from './eventsActions';\r\n\r\nconst initialState = {\r\n  list: [],\r\n  loading: true,\r\n  error: null,\r\n}\r\n\r\nconst events = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_EVENTS_BEGIN:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case FETCH_EVENTS_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        error: null,\r\n        list: action.payload.events,\r\n      };\r\n    case FETCH_EVENTS_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default events;\r\n","export const FETCH_EVENTS_BEGIN = 'FETCH_EVENTS_BEGIN';\r\nexport const FETCH_EVENTS_SUCCESS = 'FETCH_EVENTS_SUCCESS';\r\nexport const FETCH_EVENTS_FAILURE = 'FETCH_EVENTS_FAILURE';\r\n\r\nexport const fetchEventsBegin = () => ({\r\n  type: FETCH_EVENTS_BEGIN,\r\n  payload: {},\r\n});\r\n\r\nexport const fetchEventsSuccess = (events) => ({\r\n  type: FETCH_EVENTS_SUCCESS,\r\n  payload: events,\r\n});\r\n\r\nexport const fetchEventsFailure = (error) => ({\r\n  type: FETCH_EVENTS_FAILURE,\r\n  payload: { error },\r\n});\r\n","\r\nimport { TOOGLE_ORDER } from './orderActions';\r\n\r\n/* may be it is too complicated to keep order in store? */\r\nconst initialState = {\r\n  order: 'asc'\r\n}\r\n\r\nconst order = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOOGLE_ORDER:\r\n      return {\r\n        order: state.order === 'asc' ? 'desc' : 'asc',\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default order;\r\n","export const TOOGLE_ORDER = 'TOOGLE_ORDER';\r\n\r\nexport const toggleEventsOrder = () => ({\r\n  type: TOOGLE_ORDER,\r\n});\r\n","\r\nimport { combineReducers } from 'redux';\r\nimport { connectRouter } from 'connected-react-router';\r\n\r\nimport events from '../modules/App/eventsReducers';\r\nimport order from '../modules/App/orderReducers';\r\n\r\nconst rootReducer = (history) => combineReducers({\r\n  router: connectRouter(history),\r\n  events,\r\n  order,\r\n});\r\n\r\nexport default rootReducer;","import { createBrowserHistory } from 'history';\r\nimport { createStore, compose, applyMiddleware } from 'redux';\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport rootReducer from './rootReducer';\r\nimport thunk from 'redux-thunk';\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nexport default function configureStore(initialState) {\r\n  const store = createStore(\r\n    rootReducer(history),\r\n    initialState,\r\n    compose(\r\n      applyMiddleware(\r\n        routerMiddleware(history), \r\n        thunk,\r\n      ),\r\n    ),\r\n  )\r\n\r\n  return store;\r\n};\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport './header.scss';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className='header'>\r\n      <div className='container'>\r\n        <nav className='menu'>\r\n          <NavLink activeClassName=\"active\" exact to={'/events'} className='menu__link'>Все события</NavLink>\r\n          <NavLink activeClassName=\"active\" exact to={'/events:movie'} className='menu__link'>Кино</NavLink>\r\n          <NavLink activeClassName=\"active\" exact to={'/events:theatre'} className='menu__link'>Театр</NavLink>\r\n          <NavLink activeClassName=\"active\" exact to={'/events:science'} className='menu__link'>Наука</NavLink>\r\n          <NavLink activeClassName=\"active\" exact to={'/events:music'} className='menu__link'>Музыка</NavLink>\r\n          <NavLink activeClassName=\"active\" exact to={'/events:painting'} className='menu__link'>Живопись</NavLink>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst TagsLine = (props) => {\r\n  if (!props.tags) return false;\r\n  const renderTags = (tag) => <li className=\"tag\" key={tag}>{tag}</li>;\r\n\r\n  return (\r\n    <ul className='tags'>\r\n      {props.tags.map(renderTags)}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default TagsLine;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport TagsLine from '../../shared/components/TagsLine';\r\n\r\nimport './eventsList.scss';\r\n\r\nconst EventsList = (props) => {\r\n  \r\n  const renderList = (cityEvent) => {\r\n    const { id, title, is_free, categories, price, slug } = cityEvent;\r\n    return (\r\n      <li className=\"event\" key={id}>\r\n        <Link to={`/events/${slug}`} className=\"event__link\">{title}</Link>\r\n        \r\n        {is_free && <span className='event__label'>Бесплатно!</span>}\r\n\r\n        {price && <span className='event__price'>{price} р.</span>}\r\n\r\n        <TagsLine tags={categories} />\r\n      </li>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ul className=\"events\">\r\n      {props.list.map(renderList)}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default EventsList;","import React from 'react';\r\n\r\nconst Error = ({error}) => {\r\n  return (\r\n    <div>error</div>\r\n  );\r\n}\r\n\r\nexport default Error;\r\n","import React from 'react';\r\n\r\nconst Sort = (props) => {\r\n  const { width, height } = props;\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 460.088 460.088\" width={width} height={height}>\r\n      <path className=\"line\" d=\"M25.555 139.872h257.526V88.761H25.555C11.442 88.761 0 100.203 0 114.316s11.442 25.556 25.555 25.556z\" />\r\n      <path className=\"line\" d=\"M25.555 242.429h257.526v-51.111H25.555C11.442 191.318 0 202.76 0 216.874s11.442 25.555 25.555 25.555z\" />\r\n      <path className=\"line\" d=\"M25.555 293.874v.001C11.442 293.875 0 305.316 0 319.43s11.442 25.555 25.555 25.555h178.91a63.12 63.12 0 01-3.088-19.523c0-11.277 2.957-22.094 8.48-31.588H25.555z\" />\r\n      <path className=\"arrow\" d=\"M450.623 302.611c-12.62-12.621-33.083-12.621-45.704 0l-26.535 26.535V52.926c0-17.849-14.469-32.317-32.318-32.317s-32.318 14.469-32.318 32.317v276.22l-26.535-26.535c-12.621-12.62-33.083-12.621-45.704 0-12.621 12.621-12.621 33.083 0 45.704l81.7 81.699c12.596 12.6 33.084 12.643 45.714 0l81.7-81.699c12.62-12.621 12.621-33.083 0-45.704z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Sort;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport EventsList from '../EventsList/EventsList';\r\nimport Error from '../../shared/components/Error';\r\n\r\nimport { toggleEventsOrder } from '../App/orderActions';\r\nimport { sortEvents } from '../../services/selectors'\r\n\r\nimport SortIcon from '../../shared/icons/Sort';\r\nimport './events.scss';\r\n\r\nconst mapStateToProps = ({ events, order }) => {\r\n  // here I can use selectors if events will change often\r\n  const eventsSortedList = sortEvents(events.list, order.order);\r\n  const props = {\r\n    events: eventsSortedList,\r\n    isLoading: events.loading,\r\n    isError: events.error,\r\n    order: order.order,\r\n  };\r\n  return props;\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  toggleEventsOrder: () => dispatch(toggleEventsOrder()),\r\n});\r\n\r\nconst Events = (props) => {\r\n  const { events, isLoading, isError, order, toggleEventsOrder } = props;\r\n  const btnTitle = order === 'asc' ? 'По возрастанию' : 'По убыванию';\r\n  return (\r\n    <>\r\n      <div className='home__header'>\r\n        <h1>События в городе</h1>\r\n        <button\r\n          onClick={() => toggleEventsOrder()}\r\n          className={`order-toggler ${order}`}\r\n        >\r\n          {btnTitle}\r\n          <SortIcon width='1.5rem' height='1.5rem' />\r\n        </button>\r\n      </div>\r\n      { isLoading && <div>Loading</div> }\r\n      {isError && <Error error={isError} />}\r\n      {!isLoading && !isError && <EventsList list={events} />}\r\n    </>\r\n    );\r\n  }\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Events);","export const sortEvents = (list, order) => {\r\n  console.log('sorting');\r\n  const sortOrder = order === 'asc' ? 1 : -1;\r\n\r\n  return list.sort((a, b) => (+a.price >= +b.price) ? 1 * sortOrder : -1 * sortOrder);\r\n};\r\n\r\nexport const getEvent = (events, slug) => {\r\n  return events.find((event) => event.slug === slug);\r\n};\r\n","import React from 'react';\r\n\r\nconst Location = (props) => {\r\n  const { width, height } = props;\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 100.353 100.352\" width={width} height={height}>\r\n      <path d=\"M58.23 69.992l14.993-24.108c.049-.078.09-.16.122-.245a26.697 26.697 0 003.956-13.969c0-14.772-12.018-26.79-26.79-26.79S23.72 16.898 23.72 31.67c0 4.925 1.369 9.75 3.96 13.975.03.074.065.146.107.216l14.455 24.191c-11.221 1.586-18.6 6.2-18.6 11.797 0 6.935 11.785 12.366 26.829 12.366S77.3 88.783 77.3 81.849c.001-5.623-7.722-10.34-19.07-11.857zM30.373 44.294A23.708 23.708 0 0126.72 31.67c0-13.118 10.672-23.79 23.791-23.79 13.118 0 23.79 10.672 23.79 23.79 0 4.457-1.263 8.822-3.652 12.624-.05.08-.091.163-.124.249L54.685 70.01c-.238.365-.285.448-.576.926l-4 6.432-19.602-32.804a1.508 1.508 0 00-.134-.27zm20.099 46.921c-14.043 0-23.829-4.937-23.829-9.366 0-4.02 7.37-7.808 17.283-8.981l4.87 8.151c.269.449.751.726 1.274.73h.013c.518 0 1-.268 1.274-.708l5.12-8.232C66.548 73.9 74.3 77.784 74.3 81.849c.001 4.43-9.785 9.366-23.828 9.366z\" />\r\n      <path d=\"M60.213 31.67c0-5.371-4.37-9.741-9.741-9.741s-9.741 4.37-9.741 9.741 4.37 9.741 9.741 9.741c5.371 0 9.741-4.37 9.741-9.741zm-16.482 0c0-3.717 3.024-6.741 6.741-6.741s6.741 3.024 6.741 6.741-3.023 6.741-6.741 6.741-6.741-3.024-6.741-6.741z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Location;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getEvent } from '../../services/selectors';\r\nimport Error from '../../shared/components/Error';\r\nimport TagsLine from '../../shared/components/TagsLine';\r\nimport LocationIcon from '../../shared/icons/Location';\r\n\r\nimport cn from 'classnames';\r\n\r\nimport './event.scss';\r\n\r\nconst mapStateToProps = ({ events }, ownProps) => {\r\n  const slug = ownProps.match.params.event;\r\n  const event = getEvent(events.list, slug);\r\n  const props = {\r\n    event,\r\n    isLoading: events.loading,\r\n    error: events.error\r\n  };\r\n\r\n  return props;\r\n};\r\n\r\nconst Event = (props) => {\r\n\r\n  if (props.error) return <Error error='Произошла ошибка' />;\r\n  if (props.isLoading) return <div>Loading</div>\r\n\r\n  const { title, price, date, description, image, is_free, place, categories, body } = props.event;\r\n\r\n  const dateStr = new Date(date).toLocaleString(\"ru\", {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric', hour: 'numeric',\r\n    minute: 'numeric'\r\n  });\r\n\r\n  const priceClasses = cn({\r\n    'page-event__price': true,\r\n    'page-event__price--free': is_free,\r\n  });\r\n\r\n  return (\r\n    <div className='page-event'>\r\n      <h1 className='page-event__title'>{title}</h1>\r\n      <h2 className='page-event__description'>{description}</h2>\r\n\r\n      <div className='page-event__info'>\r\n        <time className='page-event__date' dateTime={date}>{dateStr}</time>\r\n        {place &&\r\n          <div className='page-event__place'>\r\n            <LocationIcon height='2rem' width='2rem' />\r\n              {place}\r\n          </div>\r\n        }\r\n        <div className={priceClasses}>\r\n          {price || (is_free && 'Бесплатно')}\r\n        </div>\r\n      </div>\r\n      \r\n      <p>{body}</p>\r\n\r\n      <TagsLine tags={categories} />\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps)(Event);\r\n","import { fetchEventsBegin, fetchEventsSuccess, fetchEventsFailure } from '../modules/App/eventsActions';\r\n\r\nconst apiBase = 'https://my-json-server.typicode.com/OlgaPavlyuk/cakelabs';\r\nconst url = `${apiBase}/events`;\r\n// const url = 'https://api.myjson.com/bins/o0z0a';\r\n\r\nconst fetchEvents = () => async (dispatch) => {\r\n  console.log('fetching data');\r\n  dispatch(fetchEventsBegin());\r\n  const response = await fetch(url);\r\n  if (response.ok) {\r\n    const jsonResponse = await response.json();\r\n    dispatch(fetchEventsSuccess(jsonResponse));\r\n  } else {\r\n    dispatch(fetchEventsFailure(response.status));\r\n  }\r\n};\r\n\r\nexport default fetchEvents;\r\n","import React, { useEffect }  from 'react';\nimport { Route, Switch } from 'react-router';\nimport { connect } from 'react-redux';\n\nimport Header from '../Header/Header';\nimport Events from '../Events/Events';\nimport Event from '../Event/Event';\n\nimport fetchEvents from '../../services/fetchEvents';\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchEvents: () => dispatch(fetchEvents()),\n});\n\nconst App = (props) => {\n  useEffect(() => {\n    props.fetchEvents();\n  });\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <main className='main'>\n        <div className='container'>\n          <Switch>\n            <Route exact path=\"/\" component={Events} />\n            <Route exact path=\"/events\" component={Events} />\n            <Route exact path=\"/events:filter\" component={Events} />\n            <Route exact path=\"/events/:event\" component={Event} />\n            {/* <Route component={NoMatch} /> */}\n          </Switch>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default connect(null, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport configureStore, { history } from './redux/store';\n\nimport './index.scss';\nimport 'normalize.css';\n\nimport App from './modules/App/App';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <App />\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}