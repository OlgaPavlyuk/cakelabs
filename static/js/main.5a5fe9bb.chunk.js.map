{"version":3,"sources":["modules/App/eventsActions.js","modules/App/eventsReducers.js","redux/rootReducer.js","redux/routes.js","redux/store.js","modules/Header/FilterLink.js","modules/Header/Header.js","shared/components/TagsLine.js","shared/icons/Star.js","shared/components/ButtonStar.js","modules/EventsList/EventsListItem.js","modules/EventsList/EventsList.js","shared/components/Error.js","shared/icons/Sort.js","modules/Events/Events.js","services/selectors.js","shared/icons/Location.js","modules/Event/Event.js","services/fetchEvents.js","modules/App/App.js","index.js"],"names":["addFavourite","id","type","payload","deleteFavourite","initialState","list","loading","error","order","favourites","events","state","action","filter","rootReducer","history","combineReducers","router","connectRouter","routes","name","createBrowserHistory","basename","FilterLink","title","favouritesCount","count","exact","activeClassName","className","to","connect","props","map","route","key","length","TagsLine","tags","tag","Star","width","height","xmlns","fill","viewBox","cx","cy","r","strokeLinecap","strokeLinejoin","strokeWidth","transform","d","ButtonStar","isFavourite","onClick","btnClasses","cn","dispatch","is_free","categories","price","slug","EventsList","item","find","f","EventsListItem","Error","Sort","ownProps","match","params","filtred","event","toLowerCase","getFiltredEvents","isLoading","isError","toggleEventsOrder","btnTitle","eventsSortedList","sortOrder","sort","a","b","napriceme","sortEvents","Location","getEvent","date","description","place","body","dateStr","Date","toLocaleString","year","month","day","hour","minute","priceClasses","dateTime","url","fetchEvents","async","console","log","fetch","response","ok","json","jsonResponse","status","useEffect","path","component","Events","Event","preloadedState","localStorage","getItem","JSON","parse","initState","store","createStore","compose","applyMiddleware","routerMiddleware","thunk","subscribe","getState","setItem","stringify","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5a5fe9bb.chunk.js","sourcesContent":["export const FETCH_EVENTS_BEGIN = 'FETCH_EVENTS_BEGIN';\r\nexport const FETCH_EVENTS_SUCCESS = 'FETCH_EVENTS_SUCCESS';\r\nexport const FETCH_EVENTS_FAILURE = 'FETCH_EVENTS_FAILURE';\r\nexport const TOOGLE_ORDER = 'TOOGLE_ORDER';\r\nexport const ADD_FAVOURITE = 'ADD_FAVOURITE';\r\nexport const DELETE_FAVOURITE = 'DELETE_FAVOURITE';\r\n\r\nexport const fetchEventsBegin = () => ({\r\n  type: FETCH_EVENTS_BEGIN,\r\n  payload: {},\r\n});\r\n\r\nexport const fetchEventsSuccess = (events) => ({\r\n  type: FETCH_EVENTS_SUCCESS,\r\n  payload: events,\r\n});\r\n\r\nexport const fetchEventsFailure = (error) => ({\r\n  type: FETCH_EVENTS_FAILURE,\r\n  payload: { error },\r\n});\r\n\r\nexport const toggleEventsOrder = () => ({\r\n  type: TOOGLE_ORDER,\r\n});\r\n\r\nexport const addFavourite = (id) => ({\r\n  type: ADD_FAVOURITE,\r\n  payload: id,\r\n});\r\n\r\nexport const deleteFavourite = (id) => ({\r\n  type: DELETE_FAVOURITE,\r\n  payload: id,\r\n});\r\n","\r\nimport {\r\n  FETCH_EVENTS_BEGIN,\r\n  FETCH_EVENTS_SUCCESS,\r\n  FETCH_EVENTS_FAILURE,\r\n  TOOGLE_ORDER,\r\n  ADD_FAVOURITE,\r\n  DELETE_FAVOURITE,\r\n} from './eventsActions';\r\n\r\nconst initialState = {\r\n  list: [],\r\n  loading: true,\r\n  error: null,\r\n  order: 'asc',\r\n  favourites: [],\r\n};\r\n\r\nconst events = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_EVENTS_BEGIN:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case FETCH_EVENTS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        list: action.payload,\r\n      };\r\n    case FETCH_EVENTS_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n      };\r\n    case TOOGLE_ORDER:\r\n      return {\r\n        ...state,\r\n        order: state.order === 'asc' ? 'desc' : 'asc',\r\n      };\r\n    case ADD_FAVOURITE:\r\n      return {\r\n        ...state,\r\n        favourites: [...state.favourites, action.payload ],\r\n      };\r\n    case DELETE_FAVOURITE:\r\n      return {\r\n        ...state,\r\n        favourites: state.favourites.filter(id => id !== action.payload ),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default events;\r\n","\r\nimport { combineReducers } from 'redux';\r\nimport { connectRouter } from 'connected-react-router';\r\n\r\nimport events from '../modules/App/eventsReducers';\r\n\r\nconst rootReducer = (history) => combineReducers({\r\n  router: connectRouter(history),\r\n  events,\r\n});\r\n\r\nexport default rootReducer;","export const basename = '/cakelabs';\r\n\r\nconst baseEvents = 'events';\r\nconst routes = [\r\n  {\r\n    filter: `${baseEvents}`,\r\n    name: 'Все события'\r\n  },\r\n  {\r\n    filter: `movie`,\r\n    name: 'Кино'\r\n  },\r\n  {\r\n    filter: `theatre`,\r\n    name: 'Театр'\r\n  },\r\n  {\r\n    filter: `concert`,\r\n    name: 'Концерты'\r\n  },\r\n  {\r\n    filter: `exhibition`,\r\n    name: 'Выставки'\r\n  },\r\n  {\r\n    filter: `festival`,\r\n    name: 'Фестивали'\r\n  },\r\n  {\r\n    filter: `favourites`,\r\n    name: 'Избранное'\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import { createBrowserHistory } from 'history';\r\nimport { createStore, compose, applyMiddleware } from 'redux';\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport rootReducer from './rootReducer';\r\nimport thunk from 'redux-thunk';\r\nimport { basename } from './routes'; \r\n\r\nexport const history = createBrowserHistory({basename});\r\n\r\nexport default function configureStore(initialState) {\r\n  const store = createStore(\r\n    rootReducer(history),\r\n    initialState,\r\n    compose(\r\n      applyMiddleware(\r\n        routerMiddleware(history), \r\n        thunk,\r\n      ),\r\n    ),\r\n  )\r\n\r\n  return store;\r\n};\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst FilterLink = ({ filter, title, favouritesCount }) => {\r\n  const count = filter === 'favourites' ? ` (${favouritesCount})` : '';\r\n  return (\r\n    <NavLink\r\n      exact\r\n      activeClassName=\"active\"\r\n      className='menu__link'\r\n      to={filter === '' ? '/' : `/${filter}`}\r\n    >\r\n      {title}{count}\r\n    </NavLink>\r\n  );\r\n};\r\n\r\nexport default FilterLink;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport FilterLink from './FilterLink';\r\nimport routes from '../../redux/routes';\r\n\r\nimport './header.scss';\r\n\r\nconst mapStateToProps = ({ events }) => ({\r\n  favourites: events.favourites,\r\n});\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className='header'>\r\n      <div className='container'>\r\n        <nav className='menu'>\r\n          {routes.map((route) =>\r\n            <FilterLink\r\n              key={route.filter}\r\n              filter={route.filter}\r\n              favouritesCount={props.favourites.length}\r\n              title={route.name}\r\n            />)}\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","import React from 'react';\r\n\r\nconst TagsLine = (props) => {\r\n  if (!props.tags) return false;\r\n  const renderTags = (tag) => <li className=\"tag\" key={tag}>{tag}</li>;\r\n\r\n  return (\r\n    <ul className='tags'>\r\n      {props.tags.map(renderTags)}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default TagsLine;\r\n","import React from 'react';\r\n\r\nconst Star = (props) => {\r\n  const { width, height } = props;\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 151.57 151.57\" width={width} height={height}>\r\n      <circle cx=\"1241.57\" cy=\"670.08\" r=\"72.28\" className='circle' strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"7\" transform=\"rotate(-45 -58.702 1780.165)\" />\r\n      <path className='star' strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"5\" d=\"M75.78 41.23l11.23 22.75 25.11 3.65-18.17 17.7 4.29 25.01-22.46-11.81-22.45 11.81 4.29-25.01-18.17-17.7 25.11-3.65 11.22-22.75z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Star;\r\n","import React from 'react';\r\nimport cn from 'classnames';\r\n\r\nimport StarIcon from '../../shared/icons/Star';\r\n\r\nconst ButtonStar = (props) => {\r\n\r\n  const { isFavourite, onClick } = props;\r\n\r\n  const btnClasses = cn({\r\n    'favourites-toggler': true,\r\n    'active': isFavourite,\r\n  });\r\n\r\n  return (\r\n    <button\r\n      className={btnClasses}\r\n      title='добавить событие в избранное'\r\n      onClick={onClick}\r\n    >\r\n      <StarIcon width='2rem' height='2rem' />\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ButtonStar;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport TagsLine from '../../shared/components/TagsLine';\r\nimport ButtonStar from '../../shared/components/ButtonStar';\r\n\r\nimport { addFavourite, deleteFavourite } from '../App/eventsActions';\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  addFavourite: (id) => dispatch(addFavourite(id)),\r\n  deleteFavourite: (id) => dispatch(deleteFavourite(id)),\r\n});\r\n\r\nconst EventsList = (props) => {\r\n\r\n  const handleFavouriteClick = () => {\r\n    if (props.isFavourite) {\r\n      props.deleteFavourite(props.id)\r\n    } else {\r\n      props.addFavourite(props.id);\r\n    }\r\n  };\r\n\r\n  const { title, is_free, categories, price, slug, isFavourite } = props;\r\n\r\n  return (\r\n    <li className=\"event\">\r\n      <div className='event__actions'>\r\n        <Link to={`/events/${slug}`} className=\"event__link\">{title}</Link>\r\n        <ButtonStar onClick={handleFavouriteClick} isFavourite={isFavourite} />\r\n      </div>\r\n      {is_free && <span className='event__label'>Бесплатно!</span>}\r\n\r\n      {price && <span className='event__price'>{price} р.</span>}\r\n\r\n      <TagsLine tags={categories} />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(EventsList);\r\n","import React from 'react';\r\n\r\nimport EventsListItem from './EventsListItem';\r\n\r\nimport './eventsList.scss';\r\n\r\nconst EventsList = (props) => {\r\n  return (\r\n    <ul className=\"events\">\r\n      {props.list.map(item => {\r\n        const isFavourite = props.favourites.find(f => item.id === f) || false;\r\n        return <EventsListItem {...item} key={item.id} isFavourite={isFavourite}/>\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default EventsList;\r\n","import React from 'react';\r\n\r\nconst Error = ({error}) => {\r\n  return (\r\n    <div>error</div>\r\n  );\r\n}\r\n\r\nexport default Error;\r\n","import React from 'react';\r\n\r\nconst Sort = (props) => {\r\n  const { width, height } = props;\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 460.088 460.088\" width={width} height={height}>\r\n      <path className=\"line\" d=\"M25.555 139.872h257.526V88.761H25.555C11.442 88.761 0 100.203 0 114.316s11.442 25.556 25.555 25.556z\" />\r\n      <path className=\"line\" d=\"M25.555 242.429h257.526v-51.111H25.555C11.442 191.318 0 202.76 0 216.874s11.442 25.555 25.555 25.555z\" />\r\n      <path className=\"line\" d=\"M25.555 293.874v.001C11.442 293.875 0 305.316 0 319.43s11.442 25.555 25.555 25.555h178.91a63.12 63.12 0 01-3.088-19.523c0-11.277 2.957-22.094 8.48-31.588H25.555z\" />\r\n      <path className=\"arrow\" d=\"M450.623 302.611c-12.62-12.621-33.083-12.621-45.704 0l-26.535 26.535V52.926c0-17.849-14.469-32.317-32.318-32.317s-32.318 14.469-32.318 32.317v276.22l-26.535-26.535c-12.621-12.62-33.083-12.621-45.704 0-12.621 12.621-12.621 33.083 0 45.704l81.7 81.699c12.596 12.6 33.084 12.643 45.714 0l81.7-81.699c12.62-12.621 12.621-33.083 0-45.704z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Sort;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport EventsList from '../EventsList/EventsList';\r\nimport Error from '../../shared/components/Error';\r\n\r\nimport { toggleEventsOrder } from '../App/eventsActions';\r\nimport { sortEvents, getFiltredEvents, getFavouritesEvents } from '../../services/selectors';\r\nimport routes from '../../redux/routes';\r\n\r\nimport SortIcon from '../../shared/icons/Sort';\r\nimport './events.scss';\r\n\r\nconst mapStateToProps = ({ events }, ownProps) => {\r\n  // here I can use selectors if events will change often\r\n  const filter = ownProps.match.params.filter;\r\n  let filtred = [];\r\n  if (filter === 'favourites') {\r\n    filtred = getFavouritesEvents(events.list, events.favourites)\r\n  } else {\r\n    filtred = filter ? getFiltredEvents(events.list, filter) : events.list;\r\n  }\r\n\r\n  const props = {\r\n    events: filtred,\r\n    isLoading: events.loading,\r\n    isError: events.error,\r\n    order: events.order,\r\n    filter,\r\n    favourites: events.favourites,\r\n  };\r\n  return props;\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  toggleEventsOrder: () => dispatch(toggleEventsOrder()),\r\n});\r\n\r\nconst Events = (props) => {\r\n\r\n  if (props.isError) return <Error error='Произошла ошибка' />;\r\n  if (props.isLoading) return <div>Loading...</div>\r\n\r\n  const { events, order, toggleEventsOrder, filter } = props;\r\n  const title = filter ? routes.find(route => route.filter === filter).name : 'События в городе';\r\n  const btnTitle = order === 'asc' ? 'По возрастанию' : 'По убыванию';\r\n  const eventsSortedList = sortEvents(events, order);\r\n\r\n  return (\r\n    <>\r\n      <div className='home__header'>\r\n        <h1>{title}</h1>\r\n        <button\r\n          onClick={() => toggleEventsOrder()}\r\n          className={`order-toggler ${order}`}\r\n        >\r\n          {btnTitle}\r\n          <SortIcon width='1.5rem' height='1.5rem' />\r\n        </button>\r\n      </div>\r\n\r\n      <EventsList list={eventsSortedList} favourites={props.favourites} />\r\n    </>\r\n    );\r\n  }\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Events);\r\n","export const sortEvents = (list, order) => {\r\n  const sortOrder = order === 'asc' ? 1 : -1;\r\n\r\n  const compare = (a, b) => {\r\n    if (+a.price > +b.price) {\r\n      return 1 * sortOrder;\r\n    }\r\n    if (+a.price < +b.napriceme) {\r\n      return -1 * sortOrder;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  return list.sort(compare);\r\n};\r\n\r\nexport const getEvent = (events, slug) => {\r\n  return events.find((event) => event.slug === slug);\r\n};\r\n\r\nexport const getFiltredEvents = (list, filter) => {\r\n  return list.filter((event) => event.type.toLowerCase() === filter);\r\n};\r\n\r\nexport const getFavouritesEvents = (list, favourites) => {\r\n  if (favourites.length < 1) return [];\r\n  return favourites.map((id) => list.find((item) => item.id === id ));\r\n};\r\n","import React from 'react';\r\n\r\nconst Location = (props) => {\r\n  const { width, height } = props;\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 100.353 100.352\" width={width} height={height}>\r\n      <path d=\"M58.23 69.992l14.993-24.108c.049-.078.09-.16.122-.245a26.697 26.697 0 003.956-13.969c0-14.772-12.018-26.79-26.79-26.79S23.72 16.898 23.72 31.67c0 4.925 1.369 9.75 3.96 13.975.03.074.065.146.107.216l14.455 24.191c-11.221 1.586-18.6 6.2-18.6 11.797 0 6.935 11.785 12.366 26.829 12.366S77.3 88.783 77.3 81.849c.001-5.623-7.722-10.34-19.07-11.857zM30.373 44.294A23.708 23.708 0 0126.72 31.67c0-13.118 10.672-23.79 23.791-23.79 13.118 0 23.79 10.672 23.79 23.79 0 4.457-1.263 8.822-3.652 12.624-.05.08-.091.163-.124.249L54.685 70.01c-.238.365-.285.448-.576.926l-4 6.432-19.602-32.804a1.508 1.508 0 00-.134-.27zm20.099 46.921c-14.043 0-23.829-4.937-23.829-9.366 0-4.02 7.37-7.808 17.283-8.981l4.87 8.151c.269.449.751.726 1.274.73h.013c.518 0 1-.268 1.274-.708l5.12-8.232C66.548 73.9 74.3 77.784 74.3 81.849c.001 4.43-9.785 9.366-23.828 9.366z\" />\r\n      <path d=\"M60.213 31.67c0-5.371-4.37-9.741-9.741-9.741s-9.741 4.37-9.741 9.741 4.37 9.741 9.741 9.741c5.371 0 9.741-4.37 9.741-9.741zm-16.482 0c0-3.717 3.024-6.741 6.741-6.741s6.741 3.024 6.741 6.741-3.023 6.741-6.741 6.741-6.741-3.024-6.741-6.741z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Location;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getEvent } from '../../services/selectors';\r\nimport { addFavourite, deleteFavourite } from '../App/eventsActions';\r\n\r\nimport cn from 'classnames';\r\n\r\nimport ButtonStar from '../../shared/components/ButtonStar';\r\nimport Error from '../../shared/components/Error';\r\n\r\nimport TagsLine from '../../shared/components/TagsLine';\r\nimport LocationIcon from '../../shared/icons/Location';\r\n\r\nimport './event.scss';\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  addFavourite: (id) => dispatch(addFavourite(id)),\r\n  deleteFavourite: (id) => dispatch(deleteFavourite(id)),\r\n});\r\n\r\nconst mapStateToProps = ({ events }, ownProps) => {\r\n  const slug = ownProps.match.params.event;\r\n  const event = getEvent(events.list, slug);\r\n  const props = {\r\n    event,\r\n    isLoading: events.loading,\r\n    error: events.error,\r\n    favourites: events.favourites,\r\n  };\r\n\r\n  return props;\r\n};\r\n\r\nconst Event = (props) => {\r\n\r\n  if (props.error) return <Error error='Произошла ошибка' />;\r\n  if (props.isLoading) return <div>Loading</div>\r\n\r\n  const { id, title, price, date, description, is_free, place, categories, body } = props.event;\r\n  const isFavourite = props.favourites.find(f => id === f) || false;\r\n\r\n  const handleFavouriteClick = () => {\r\n    if (isFavourite) {\r\n      props.deleteFavourite(props.event.id)\r\n    } else {\r\n      props.addFavourite(props.event.id);\r\n    }\r\n  };\r\n\r\n  const dateStr = new Date(date).toLocaleString(\"ru\", {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric', hour: 'numeric',\r\n    minute: 'numeric'\r\n  });\r\n\r\n  const priceClasses = cn({\r\n    'page-event__price': true,\r\n    'page-event__price--free': is_free,\r\n  });\r\n\r\n  return (\r\n    <div className='page-event'>\r\n      <h1 className='page-event__title'>{title}</h1>\r\n      <ButtonStar onClick={handleFavouriteClick} isFavourite={isFavourite} />\r\n      <h2 className='page-event__description'>{description}</h2>\r\n\r\n      <div className='page-event__info'>\r\n        <time className='page-event__date' dateTime={date}>{dateStr}</time>\r\n        {place &&\r\n          <div className='page-event__place'>\r\n            <LocationIcon height='2rem' width='2rem' />\r\n              {place}\r\n          </div>\r\n        }\r\n        <div className={priceClasses}>\r\n          {price || (is_free && 'Бесплатно')}\r\n        </div>\r\n      </div>\r\n      <p>{body}</p>\r\n      <TagsLine tags={categories} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Event);\r\n","import { fetchEventsBegin, fetchEventsSuccess, fetchEventsFailure } from '../modules/App/eventsActions';\r\n\r\nconst apiBase = 'https://my-json-server.typicode.com/OlgaPavlyuk/cakelabs';\r\nconst url = `${apiBase}/events`;\r\n// const url = 'https://api.myjson.com/bins/o0z0a';\r\n\r\nconst fetchEvents = () => async (dispatch) => {\r\n  console.log('fetching data');\r\n  dispatch(fetchEventsBegin());\r\n  const response = await fetch(url);\r\n  if (response.ok) {\r\n    const jsonResponse = await response.json();\r\n    dispatch(fetchEventsSuccess(jsonResponse));\r\n  } else {\r\n    dispatch(fetchEventsFailure(response.status));\r\n  }\r\n};\r\n\r\nexport default fetchEvents;\r\n","import React, { useEffect }  from 'react';\nimport { Route, Switch } from 'react-router';\nimport { connect } from 'react-redux';\n\nimport Header from '../Header/Header';\nimport Events from '../Events/Events';\nimport Event from '../Event/Event';\n\nimport fetchEvents from '../../services/fetchEvents';\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchEvents: () => dispatch(fetchEvents()),\n});\n\nconst App = (props) => {\n  useEffect(() => {\n    props.fetchEvents();\n  });\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <main className='main'>\n        <div className='container'>\n          <Switch>\n            <Route exact path=\"/\" component={Events} />\n            <Route exact path=\"/events\" component={Events} />\n            <Route exact path=\"/:filter\" component={Events} />\n            <Route exact path=\"/events/:event\" component={Event} />\n            {/* <Route component={<div>404</div>} /> */}\n          </Switch>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default connect(null, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport configureStore, { history } from './redux/store';\n\nimport './index.scss';\nimport 'normalize.css';\n\nimport App from './modules/App/App';\n\nconst preloadedState = localStorage.getItem('state') ? JSON.parse(localStorage.getItem('state')) : {};\n\nconst initState = {\n  events: {\n    list: [],\n    loading: true,\n    error: null,\n    order: preloadedState.order || 'asc',\n    favourites: preloadedState.favourites || [],\n  }\n};\n\nconst store = configureStore(initState);\n\nstore.subscribe(() => {\n  const { events } = store.getState();\n  const { order, favourites } = events;\n  const state = {\n    order,\n    favourites\n  };\n  localStorage.setItem('state', JSON.stringify(state));\n})\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <App />\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}