{"version":3,"sources":["modules/App/eventsReducers.js","modules/App/eventsActions.js","modules/App/orderReducers.js","modules/App/orderActions.js","redux/rootReducer.js","redux/routes.js","redux/store.js","modules/Header/FilterLink.js","modules/Header/Header.js","shared/components/TagsLine.js","modules/EventsList/EventsList.js","shared/components/Error.js","shared/icons/Sort.js","modules/Events/Events.js","services/selectors.js","shared/icons/Location.js","modules/Event/Event.js","services/fetchEvents.js","modules/App/App.js","index.js"],"names":["initialState","list","loading","error","events","state","action","type","payload","order","rootReducer","history","combineReducers","router","connectRouter","routes","filter","name","createBrowserHistory","basename","FilterLink","children","exact","activeClassName","className","to","Header","map","route","key","TagsLine","props","tags","tag","EventsList","cityEvent","id","title","is_free","categories","price","slug","Error","Sort","width","height","xmlns","fill","viewBox","d","connect","ownProps","match","params","event","toLowerCase","getFiltredEvents","isLoading","isError","dispatch","toggleEventsOrder","btnTitle","eventsSortedList","sortOrder","sort","a","b","sortEvents","onClick","Location","find","getEvent","date","description","place","body","dateStr","Date","toLocaleString","year","month","day","hour","minute","priceClasses","cn","dateTime","url","fetchEvents","async","console","log","fetch","response","ok","json","jsonResponse","status","useEffect","path","component","Events","Event","store","createStore","compose","applyMiddleware","routerMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a4640e66.chunk.js","sourcesContent":["\r\nimport { FETCH_EVENTS_BEGIN, FETCH_EVENTS_SUCCESS, FETCH_EVENTS_FAILURE } from './eventsActions';\r\n\r\nconst initialState = {\r\n  list: [],\r\n  loading: true,\r\n  error: null,\r\n}\r\n\r\nconst events = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_EVENTS_BEGIN:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case FETCH_EVENTS_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        error: null,\r\n        list: action.payload,\r\n      };\r\n    case FETCH_EVENTS_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default events;\r\n","export const FETCH_EVENTS_BEGIN = 'FETCH_EVENTS_BEGIN';\r\nexport const FETCH_EVENTS_SUCCESS = 'FETCH_EVENTS_SUCCESS';\r\nexport const FETCH_EVENTS_FAILURE = 'FETCH_EVENTS_FAILURE';\r\n\r\nexport const fetchEventsBegin = () => ({\r\n  type: FETCH_EVENTS_BEGIN,\r\n  payload: {},\r\n});\r\n\r\nexport const fetchEventsSuccess = (events) => ({\r\n  type: FETCH_EVENTS_SUCCESS,\r\n  payload: events,\r\n});\r\n\r\nexport const fetchEventsFailure = (error) => ({\r\n  type: FETCH_EVENTS_FAILURE,\r\n  payload: { error },\r\n});\r\n","\r\nimport { TOOGLE_ORDER } from './orderActions';\r\n\r\n/* may be it is too complicated to keep order in store? */\r\nconst initialState = {\r\n  order: 'asc'\r\n}\r\n\r\nconst order = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOOGLE_ORDER:\r\n      return {\r\n        order: state.order === 'asc' ? 'desc' : 'asc',\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default order;\r\n","export const TOOGLE_ORDER = 'TOOGLE_ORDER';\r\n\r\nexport const toggleEventsOrder = () => ({\r\n  type: TOOGLE_ORDER,\r\n});\r\n","\r\nimport { combineReducers } from 'redux';\r\nimport { connectRouter } from 'connected-react-router';\r\n\r\nimport events from '../modules/App/eventsReducers';\r\nimport order from '../modules/App/orderReducers';\r\n\r\nconst rootReducer = (history) => combineReducers({\r\n  router: connectRouter(history),\r\n  events,\r\n  order,\r\n});\r\n\r\nexport default rootReducer;","export const basename = '/cakelabs';\r\n\r\nconst baseEvents = 'events';\r\nconst routes = [\r\n  {\r\n    filter: `${baseEvents}`,\r\n    name: 'Все события'\r\n  },\r\n  {\r\n    filter: `movie`,\r\n    name: 'Кино'\r\n  },\r\n  {\r\n    filter: `theatre`,\r\n    name: 'Театр'\r\n  },\r\n  {\r\n    filter: `concert`,\r\n    name: 'Концерты'\r\n  },\r\n  {\r\n    filter: `exhibition`,\r\n    name: 'Выставки'\r\n  },\r\n  {\r\n    filter: `festival`,\r\n    name: 'Фестивали'\r\n  },\r\n  {\r\n    filter: `favourite`,\r\n    name: 'Избранное'\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import { createBrowserHistory } from 'history';\r\nimport { createStore, compose, applyMiddleware } from 'redux';\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport rootReducer from './rootReducer';\r\nimport thunk from 'redux-thunk';\r\nimport { basename } from './routes'; \r\n\r\nexport const history = createBrowserHistory({basename});\r\n\r\nexport default function configureStore(initialState) {\r\n  const store = createStore(\r\n    rootReducer(history),\r\n    initialState,\r\n    compose(\r\n      applyMiddleware(\r\n        routerMiddleware(history), \r\n        thunk,\r\n      ),\r\n    ),\r\n  )\r\n\r\n  return store;\r\n};\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst FilterLink = ({ filter, children }) => (\r\n  <NavLink\r\n    exact\r\n    activeClassName=\"active\"\r\n    className='menu__link'\r\n    to={filter === '' ? '/' : `/${filter}`}\r\n  >\r\n    {children}\r\n  </NavLink>\r\n)\r\n\r\nexport default FilterLink;\r\n","import React from 'react';\r\nimport FilterLink from './FilterLink';\r\nimport routes from '../../redux/routes';\r\n\r\nimport './header.scss';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className='header'>\r\n      <div className='container'>\r\n        <nav className='menu'>\r\n          {routes.map((route) => <FilterLink key={route.filter} filter={route.filter}>{route.name}</FilterLink>)}\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst TagsLine = (props) => {\r\n  if (!props.tags) return false;\r\n  const renderTags = (tag) => <li className=\"tag\" key={tag}>{tag}</li>;\r\n\r\n  return (\r\n    <ul className='tags'>\r\n      {props.tags.map(renderTags)}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default TagsLine;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport TagsLine from '../../shared/components/TagsLine';\r\n\r\nimport './eventsList.scss';\r\n\r\nconst EventsList = (props) => {\r\n  \r\n  const renderList = (cityEvent) => {\r\n    const { id, title, is_free, categories, price, slug } = cityEvent;\r\n    return (\r\n      <li className=\"event\" key={id}>\r\n        <Link to={`/events/${slug}`} className=\"event__link\">{title}</Link>\r\n        \r\n        {is_free && <span className='event__label'>Бесплатно!</span>}\r\n\r\n        {price && <span className='event__price'>{price} р.</span>}\r\n\r\n        <TagsLine tags={categories} />\r\n      </li>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ul className=\"events\">\r\n      {props.list.map(renderList)}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default EventsList;","import React from 'react';\r\n\r\nconst Error = ({error}) => {\r\n  return (\r\n    <div>error</div>\r\n  );\r\n}\r\n\r\nexport default Error;\r\n","import React from 'react';\r\n\r\nconst Sort = (props) => {\r\n  const { width, height } = props;\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 460.088 460.088\" width={width} height={height}>\r\n      <path className=\"line\" d=\"M25.555 139.872h257.526V88.761H25.555C11.442 88.761 0 100.203 0 114.316s11.442 25.556 25.555 25.556z\" />\r\n      <path className=\"line\" d=\"M25.555 242.429h257.526v-51.111H25.555C11.442 191.318 0 202.76 0 216.874s11.442 25.555 25.555 25.555z\" />\r\n      <path className=\"line\" d=\"M25.555 293.874v.001C11.442 293.875 0 305.316 0 319.43s11.442 25.555 25.555 25.555h178.91a63.12 63.12 0 01-3.088-19.523c0-11.277 2.957-22.094 8.48-31.588H25.555z\" />\r\n      <path className=\"arrow\" d=\"M450.623 302.611c-12.62-12.621-33.083-12.621-45.704 0l-26.535 26.535V52.926c0-17.849-14.469-32.317-32.318-32.317s-32.318 14.469-32.318 32.317v276.22l-26.535-26.535c-12.621-12.62-33.083-12.621-45.704 0-12.621 12.621-12.621 33.083 0 45.704l81.7 81.699c12.596 12.6 33.084 12.643 45.714 0l81.7-81.699c12.62-12.621 12.621-33.083 0-45.704z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Sort;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport EventsList from '../EventsList/EventsList';\r\nimport Error from '../../shared/components/Error';\r\n\r\nimport { toggleEventsOrder } from '../App/orderActions';\r\nimport { sortEvents, getFiltredEvents } from '../../services/selectors'\r\n\r\nimport SortIcon from '../../shared/icons/Sort';\r\nimport './events.scss';\r\n\r\nconst mapStateToProps = ({ events, order }, ownProps) => {\r\n  // here I can use selectors if events will change often\r\n  const filter = ownProps.match.params.filter;\r\n  const filtred = filter ? getFiltredEvents(events.list, filter): events.list;\r\n  const props = {\r\n    events: filtred,\r\n    isLoading: events.loading,\r\n    isError: events.error,\r\n    order: order.order,\r\n  };\r\n  return props;\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  toggleEventsOrder: () => dispatch(toggleEventsOrder()),\r\n});\r\n\r\nconst Events = (props) => {\r\n  const { events, isLoading, isError, order, toggleEventsOrder } = props;\r\n  const btnTitle = order === 'asc' ? 'По возрастанию' : 'По убыванию';\r\n\r\n  const eventsSortedList = sortEvents(events, order);\r\n  return (\r\n    <>\r\n      <div className='home__header'>\r\n        <h1>События в городе</h1>\r\n        <button\r\n          onClick={() => toggleEventsOrder()}\r\n          className={`order-toggler ${order}`}\r\n        >\r\n          {btnTitle}\r\n          <SortIcon width='1.5rem' height='1.5rem' />\r\n        </button>\r\n      </div>\r\n      { isLoading && <div>Loading</div> }\r\n      {isError && <Error error={isError} />}\r\n\r\n      {!isLoading && !isError && <EventsList list={eventsSortedList} />}\r\n    </>\r\n    );\r\n  }\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Events);","export const sortEvents = (list, order) => {\r\n  const sortOrder = order === 'asc' ? 1 : -1;\r\n\r\n  return list.sort((a, b) => (+a.price >= +b.price) ? 1 * sortOrder : -1 * sortOrder);\r\n};\r\n\r\nexport const getEvent = (events, slug) => {\r\n  return events.find((event) => event.slug === slug);\r\n};\r\n\r\nexport const getFiltredEvents = (list, filter) => {\r\n  return list.filter((event) => event.type.toLowerCase() === filter);\r\n};\r\n","import React from 'react';\r\n\r\nconst Location = (props) => {\r\n  const { width, height } = props;\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 100.353 100.352\" width={width} height={height}>\r\n      <path d=\"M58.23 69.992l14.993-24.108c.049-.078.09-.16.122-.245a26.697 26.697 0 003.956-13.969c0-14.772-12.018-26.79-26.79-26.79S23.72 16.898 23.72 31.67c0 4.925 1.369 9.75 3.96 13.975.03.074.065.146.107.216l14.455 24.191c-11.221 1.586-18.6 6.2-18.6 11.797 0 6.935 11.785 12.366 26.829 12.366S77.3 88.783 77.3 81.849c.001-5.623-7.722-10.34-19.07-11.857zM30.373 44.294A23.708 23.708 0 0126.72 31.67c0-13.118 10.672-23.79 23.791-23.79 13.118 0 23.79 10.672 23.79 23.79 0 4.457-1.263 8.822-3.652 12.624-.05.08-.091.163-.124.249L54.685 70.01c-.238.365-.285.448-.576.926l-4 6.432-19.602-32.804a1.508 1.508 0 00-.134-.27zm20.099 46.921c-14.043 0-23.829-4.937-23.829-9.366 0-4.02 7.37-7.808 17.283-8.981l4.87 8.151c.269.449.751.726 1.274.73h.013c.518 0 1-.268 1.274-.708l5.12-8.232C66.548 73.9 74.3 77.784 74.3 81.849c.001 4.43-9.785 9.366-23.828 9.366z\" />\r\n      <path d=\"M60.213 31.67c0-5.371-4.37-9.741-9.741-9.741s-9.741 4.37-9.741 9.741 4.37 9.741 9.741 9.741c5.371 0 9.741-4.37 9.741-9.741zm-16.482 0c0-3.717 3.024-6.741 6.741-6.741s6.741 3.024 6.741 6.741-3.023 6.741-6.741 6.741-6.741-3.024-6.741-6.741z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Location;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getEvent } from '../../services/selectors';\r\nimport Error from '../../shared/components/Error';\r\nimport TagsLine from '../../shared/components/TagsLine';\r\nimport LocationIcon from '../../shared/icons/Location';\r\n\r\nimport cn from 'classnames';\r\n\r\nimport './event.scss';\r\n\r\nconst mapStateToProps = ({ events }, ownProps) => {\r\n  const slug = ownProps.match.params.event;\r\n  const event = getEvent(events.list, slug);\r\n  const props = {\r\n    event,\r\n    isLoading: events.loading,\r\n    error: events.error\r\n  };\r\n\r\n  return props;\r\n};\r\n\r\nconst Event = (props) => {\r\n\r\n  if (props.error) return <Error error='Произошла ошибка' />;\r\n  if (props.isLoading) return <div>Loading</div>\r\n\r\n  const { title, price, date, description, is_free, place, categories, body } = props.event;\r\n\r\n  const dateStr = new Date(date).toLocaleString(\"ru\", {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric', hour: 'numeric',\r\n    minute: 'numeric'\r\n  });\r\n\r\n  const priceClasses = cn({\r\n    'page-event__price': true,\r\n    'page-event__price--free': is_free,\r\n  });\r\n\r\n  return (\r\n    <div className='page-event'>\r\n      <h1 className='page-event__title'>{title}</h1>\r\n      <h2 className='page-event__description'>{description}</h2>\r\n\r\n      <div className='page-event__info'>\r\n        <time className='page-event__date' dateTime={date}>{dateStr}</time>\r\n        {place &&\r\n          <div className='page-event__place'>\r\n            <LocationIcon height='2rem' width='2rem' />\r\n              {place}\r\n          </div>\r\n        }\r\n        <div className={priceClasses}>\r\n          {price || (is_free && 'Бесплатно')}\r\n        </div>\r\n      </div>\r\n      \r\n      <p>{body}</p>\r\n\r\n      <TagsLine tags={categories} />\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps)(Event);\r\n","import { fetchEventsBegin, fetchEventsSuccess, fetchEventsFailure } from '../modules/App/eventsActions';\r\n\r\nconst apiBase = 'https://my-json-server.typicode.com/OlgaPavlyuk/cakelabs';\r\nconst url = `${apiBase}/events`;\r\n// const url = 'https://api.myjson.com/bins/o0z0a';\r\n\r\nconst fetchEvents = () => async (dispatch) => {\r\n  console.log('fetching data');\r\n  dispatch(fetchEventsBegin());\r\n  const response = await fetch(url);\r\n  if (response.ok) {\r\n    const jsonResponse = await response.json();\r\n    dispatch(fetchEventsSuccess(jsonResponse));\r\n  } else {\r\n    dispatch(fetchEventsFailure(response.status));\r\n  }\r\n};\r\n\r\nexport default fetchEvents;\r\n","import React, { useEffect }  from 'react';\nimport { Route, Switch } from 'react-router';\nimport { connect } from 'react-redux';\n\nimport Header from '../Header/Header';\nimport Events from '../Events/Events';\nimport Event from '../Event/Event';\n\nimport fetchEvents from '../../services/fetchEvents';\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchEvents: () => dispatch(fetchEvents()),\n});\n\nconst App = (props) => {\n  useEffect(() => {\n    props.fetchEvents();\n  });\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <main className='main'>\n        <div className='container'>\n          <Switch>\n            <Route exact path=\"/\" component={Events} />\n            <Route exact path=\"/events\" component={Events} />\n            <Route exact path=\"/:filter\" component={Events} />\n            <Route exact path=\"/events/:event\" component={Event} />\n            {/* <Route component={NoMatch} /> */}\n          </Switch>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default connect(null, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport configureStore, { history } from './redux/store';\n\nimport './index.scss';\nimport 'normalize.css';\n\nimport App from './modules/App/App';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <App />\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}